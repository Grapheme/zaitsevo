var App=function(){"use strict";$(function(){var t=$(".section-main");0==t.height()&&(t.height($(window).height()),$(window).resize(function(){t.height($(window).height())}))}),$(function(){$(".fancybox").fancybox({helpers:{overlay:{locked:!1}}})}),jQuery.fn.objectTabs=function(){var t=$(this),e=t.find(".objects-item"),o=t.find(".obj-tabs"),i=t.find(".obj-tab-item"),s=t.find(".js-tabs-close"),n=t.find(".js-nav-left"),a=t.find(".js-nav-right");s.click(function(){t.trigger("close-tabs")}),n.click(function(){t.trigger("prev-obj-tab")}),a.click(function(){t.trigger("next-obj-tab")}),e.click(function(){t.trigger("open-tabs",[$(this)])}),t.bind("open-tabs",function(t,e){var s=e.attr("id");o.removeClass("hidden"),i.addClass("hidden").removeClass("active").filter('[data-to="'+s+'"]').addClass("active").removeClass("hidden")}),t.bind("close-tabs",function(){o.addClass("hidden"),i.addClass("hidden")}),t.bind("next-obj-tab",function(){var t,e=i.filter(".active");t=e.is(":last-child")?i.filter(":first-child"):e.next(),i.addClass("hidden").removeClass("active"),t.removeClass("hidden").addClass("active")}),t.bind("prev-obj-tab",function(){var t,e=i.filter(".active");t=e.is(":first-child")?i.filter(":last-child"):e.prev(),i.addClass("hidden").removeClass("active"),t.removeClass("hidden").addClass("active")})},jQuery.fn.housePlans=function(){var t=$(this),e=t.find(".house-plan"),o=t.find(".houses-item");o.click(function(){var t=$(this).data("plan");o.removeClass("active"),$(this).addClass("active"),e.hide(),e.filter('[data-plan="'+t+'"]').fadeIn(400)})},$(".objects-list").objectTabs(),$(".section-houses-proj").housePlans();var t=skrollr.init({forceHeight:!1,constants:{map:parseInt($(".section-map").offset().top),mapend:parseInt($(".section-map").offset().top+$(".section-map").height()),ffooter:parseInt($(".section-footer-form").offset().top),ffooterend:parseInt($(".section-footer-form").offset().top+$(".section-map").height()),main:parseInt($(".section-main").offset().top),about:parseInt($(".section-about").offset().top),objects:parseInt($(".section-objects").offset().top),areas:parseInt($(".section-areas").offset().top),houses:parseInt($(".section-houses-proj").offset().top)}});skrollr.menu.init(t,{}),$(".checkbox").button(),$("input[type=file]").nicefileinput({label:"Выберите файл"}),$(".phone-input").inputmask("mask",{mask:"[+7] (999) 999-9999",showMaskOnHover:!1})}(),Popup=function(){"use strict";var t=$(".overlay"),e=$(".popup"),o=$(".js-popup-close"),i=$(".js-btn-order"),s=$(".js-btn-compet"),n=$("html"),a={};return o.click(function(){Popup.close()}),e.click(function(t){t.stopPropagation()}),t.click(function(){Popup.close()}),i.click(function(t){t.preventDefault(),Popup.show("order-call",$(this))}),s.click(function(t){t.preventDefault(),Popup.show("leave-apply",$(this))}),{show:function(o,i){var s=i.offset().top-$(window).scrollTop(),c=i.offset().left,l=$(window).height()-(s+i.height()),r=$(window).width()-(c+i.outerWidth());a={elemX1:c,elemX2:r,elemY1:s,elemY2:l},t.css({display:"block",top:s,left:c,right:r,bottom:l,opacity:"1"}),t.fadeIn(300).css({top:"0",left:"0",right:"0",bottom:"0"}),e.removeClass("active"),setTimeout(function(){$('[data-popup="'+o+'"]').fadeIn(400)},400),n.css({overflow:"hidden"})},close:function(){t.css({display:"block",top:a.elemY1,left:a.elemX1,right:a.elemX2,bottom:a.elemY2,opacity:"0"}),setTimeout(function(){t.fadeOut()},400),e.removeClass("active").hide(),n.removeAttr("style")}}}();