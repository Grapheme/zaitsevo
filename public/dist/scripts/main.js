var App=function(){"use strict";$(function(){$(".fancybox").fancybox({helpers:{overlay:{locked:!1}}})}),jQuery.fn.objectTabs=function(){var e=$(this),i=e.find(".objects-item"),t=e.find(".obj-tabs"),a=e.find(".obj-tab-item"),s=e.find(".js-tabs-close"),n=e.find(".js-nav-left"),o=e.find(".js-nav-right");s.click(function(){e.trigger("close-tabs")}),n.click(function(){e.trigger("prev-obj-tab")}),o.click(function(){e.trigger("next-obj-tab")}),i.click(function(){e.trigger("open-tabs",[$(this)])}),e.bind("open-tabs",function(e,i){var s=i.attr("id");t.removeClass("hidden"),a.addClass("hidden").removeClass("active").filter('[data-to="'+s+'"]').addClass("active").removeClass("hidden")}),e.bind("close-tabs",function(){t.addClass("hidden"),a.addClass("hidden")}),e.bind("next-obj-tab",function(){var e,i=a.filter(".active");e=i.is(":last-child")?a.filter(":first-child"):i.next(),a.addClass("hidden").removeClass("active"),e.removeClass("hidden").addClass("active")}),e.bind("prev-obj-tab",function(){var e,i=a.filter(".active");e=i.is(":first-child")?a.filter(":last-child"):i.prev(),a.addClass("hidden").removeClass("active"),e.removeClass("hidden").addClass("active")})},jQuery.fn.housePlans=function(){var e=$(this),i=e.find(".house-plan"),t=e.find(".houses-item");t.click(function(){var e=$(this).data("plan");t.removeClass("active"),$(this).addClass("active"),i.hide(),i.filter('[data-plan="'+e+'"]').fadeIn(400)})},$(".objects-list").objectTabs(),$(".section-houses-proj").housePlans();var e=skrollr.init({forceHeight:!1,constants:{map:parseInt($(".section-map").offset().top),mapend:parseInt($(".section-map").offset().top+$(".section-map").height()),ffooter:parseInt($(".section-footer-form").offset().top),ffooterend:parseInt($(".section-footer-form").offset().top+$(".section-map").height())}});skrollr.menu.init(e,{}),$(".checkbox").button(),$("input[type=file]").nicefileinput({label:"Выберите файл"}),$(".phone-input").inputmask("mask",{mask:"[+7] (999) 999-9999",showMaskOnHover:!1}),$("#feedback-form").validate({rules:{phone:"required",email:{required:!0,email:!0}},messages:{phone:"Обязательное поле",email:{required:"Обязательное поле",email:"Неверный формат"}}}),$(".order-call-form").validate({rules:{phone:"required",name:"required"},messages:{phone:"Обязательное поле",name:"Обязательное поле"}}),$(".leave-apply-form").validate({errorPlacement:function(){return!0},rules:{projname:"required",address:"required",email:{required:!0,email:!0},phone:"required",site:"required",rname:"required",remail:{required:!0,email:!0},rphone:"required"},messages:{projname:"Обязательное поле",address:"Обязательное поле",email:{required:"Обязательное поле",email:"Неверный формат"},phone:"Обязательное поле",site:"Обязательное поле",rname:"Обязательное поле",remail:{required:"Обязательное поле",email:"Неверный формат"},rphone:"Обязательное поле"}})}(),Popup=function(){"use strict";var e=$(".overlay"),i=$(".popup"),t=$(".js-popup-close"),a=$(".js-btn-order"),s=$(".js-btn-compet"),n=$("html");return t.click(function(){Popup.close()}),i.click(function(e){e.stopPropagation()}),e.click(function(){Popup.close()}),a.click(function(e){e.preventDefault(),Popup.show("order-call")}),s.click(function(e){e.preventDefault(),Popup.show("leave-apply")}),{show:function(t){e.fadeIn(400),i.removeClass("active"),$('[data-popup="'+t+'"]').addClass("active"),n.css({overflow:"hidden"})},close:function(){e.fadeOut(400),i.removeClass("active"),n.removeAttr("style")}}}();